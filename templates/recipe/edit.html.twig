{% extends 'base.html.twig' %}

{% block title %}Modifier la recette{% endblock %}

{% block body %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-sm">
                <div class="card-header bg-white border-bottom-0 text-center">
                    <h2 class="fw-bold text-dark">Modifier la recette</h2>
                </div>
                <div class="card-body">
                    {{ form_start(form, {'attr': {'class': 'needs-validation'}}) }}

                    <!-- Titre -->
                    <div class="mb-3">
                        {{ form_label(form.title, 'Titre de la recette', {'label_attr': {'class': 'form-label fw-bold'}}) }}
                        {{ form_widget(form.title, {'attr': {'class': 'form-control', 'placeholder': 'Ex: Tarte aux pommes'}}) }}
                    </div>

                    <!-- Description -->
                    <div class="mb-3">
                        {{ form_label(form.description, 'Description', {'label_attr': {'class': 'form-label fw-bold'}}) }}
                        {{ form_widget(form.description, {'attr': {'class': 'form-control', 'rows':'3', 'style':'resize:none;', 'placeholder':'Une petite description de la recette'}}) }}
                    </div>

                    <!-- Catégorie -->
                    <div class="mb-3">
                        {{ form_label(form.category, 'Catégorie', {'label_attr': {'class': 'form-label fw-bold'}}) }}
                        {{ form_widget(form.category, {'attr': {'class': 'form-select'}}) }}
                    </div>

                    <!-- Ingrédients -->
                    <div class="mb-3">
                        {{ form_label(form.ingredients, 'Ingrédients', {'label_attr': {'class': 'form-label fw-bold'}}) }}
                        {{ form_widget(form.ingredients, {'attr': {'class': 'form-control', 'rows':'4', 'style':'resize:none;', 'placeholder':'Ex: 3 pommes, 100g sucre...'}}) }}
                    </div>

                    <!-- Étapes -->
                    <div class="mb-3">
                        {{ form_label(form.steps, 'Étapes de préparation', {'label_attr': {'class': 'form-label fw-bold'}}) }}
                        {{ form_widget(form.steps, {'attr': {'class': 'form-control', 'rows':'5', 'style':'resize:none;', 'placeholder':'1. Préchauffer le four...'}}) }}
                    </div>

                    <!-- Temps de préparation -->
                    <div class="mb-3">
                        {{ form_label(form.preparationTime, 'Temps de préparation', {'label_attr': {'class': 'form-label fw-bold'}}) }}
                        <div class="input-group">
                            {{ form_widget(form.preparationTime, {'attr': {'class': 'form-control', 'min':'1', 'placeholder':'Ex: 30'}}) }}
                            <span class="input-group-text bg-orange text-white fw-bold">min</span>
                        </div>
                    </div>

                    <!-- Image -->
                    <div class="mb-4">
                        {{ form_label(form.image, 'Image de la recette', {'label_attr': {'class': 'form-label fw-bold'}}) }}
                        <div class="input-group">
                            {{ form_widget(form.image, {'attr': {'class': 'form-control'}}) }}
                            <button type="button" class="btn btn-warning text-white">
                                <i class="fa-solid fa-upload me-2"></i>Modifier l'image
                            </button>
                        </div>
                        {% if recipe.image %}
                            <img src="{{ asset('uploads/recipes/' ~ recipe.image) }}" alt="{{ recipe.title }}" class="img-fluid mt-2" style="max-height:200px;">
                        {% endif %}
                    </div>

                    <div class="d-flex justify-content-end">
                        <button type="submit" class="btn btn-orange btn-lg text-white">
                            <i class="fa-solid fa-pencil me-2"></i>Modifier
                        </button>
                    </div>

                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .btn-orange {
        background-color: #FF7F50;
        border-color: #FF7F50;
    }
    .btn-orange:hover {
        background-color: #ff9b72;
        border-color: #ff9b72;
    }
    .input-group-text.bg-orange {
        background-color: #FF7F50;
        border-color: #FF7F50;
    }
</style>
{% endblock %}
